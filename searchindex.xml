<?xml version="1.0" encoding="utf-8" standalone="yes"?><search><entry><title>javaå¸¸è§é—®é¢˜</title><url>https://infinitejk.github.io/post/java%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/</url><categories><category>å­¦ä¹ </category></categories><tags><tag>javaé¢è¯•é¢˜</tag></tags><content type="html"> å¹¶å‘çš„å°é—®é¢˜è‡ªæµ‹ï¼ˆjavaGuideï¼‰ ä»€ä¹ˆæ˜¯çº¿ç¨‹å’Œè¿›ç¨‹? çº¿ç¨‹ä¸è¿›ç¨‹çš„å…³ç³»,åŒºåˆ«åŠä¼˜ç¼ºç‚¹ï¼Ÿ è¯´è¯´å¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«? ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šçº¿ç¨‹å‘¢? ä½¿ç”¨å¤šçº¿ç¨‹å¯èƒ½å¸¦æ¥ä»€ä¹ˆé—®é¢˜?ï¼ˆå†…å­˜æ³„æ¼ã€æ­»é”ã€çº¿ç¨‹ä¸å®‰å…¨ç­‰ç­‰ï¼‰ åˆ›å»ºçº¿ç¨‹æœ‰å“ªå‡ ç§æ–¹å¼ï¼Ÿï¼ˆa.ç»§æ‰¿ Thread ç±»;b.å®ç° Runnable æ¥å£;c. ä½¿ç”¨ Executor æ¡†æ¶;d.ä½¿ç”¨ FutureTaskï¼‰ è¯´è¯´çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€? ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢? ä»€ä¹ˆæ˜¯çº¿ç¨‹æ­»é”?å¦‚ä½•é¿å…æ­»é”? è¯´è¯´ sleep() æ–¹æ³•å’Œ wait() æ–¹æ³•åŒºåˆ«å’Œå…±åŒç‚¹? Java å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰ã€é‡æ’åºä¸ happens-before åŸåˆ™äº†è§£å—ï¼Ÿ synchronized å…³é”®å­—ã€volatile å…³é”®å­— ThreadLocal æœ‰å•¥ç”¨ï¼ˆè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼‰ï¼Ÿæ€ä¹ˆç”¨ï¼ŸåŸç†äº†è§£å—ï¼Ÿå†…å­˜æ³„éœ²é—®é¢˜äº†è§£å—ï¼Ÿ ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± ï¼ŸThreadPoolExecutor ç±»çš„é‡è¦å‚æ•°äº†è§£å—ï¼ŸThreadPoolExecutor é¥±å’Œç­–ç•¥äº†è§£å—ï¼Ÿçº¿ç¨‹æ± åŸç†äº†è§£å—ï¼Ÿå‡ ç§å¸¸è§çš„çº¿ç¨‹æ± äº†è§£å— ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨FixedThreadPoolï¼Ÿå¦‚ä½•è®¾ç½®çº¿ç¨‹æ± çš„å¤§å°ï¼Ÿ AQS äº†è§£ä¹ˆï¼ŸåŸç†ï¼ŸAQS å¸¸ç”¨ç»„ä»¶ï¼šSemaphore (ä¿¡å·é‡)ã€CountDownLatch ï¼ˆå€’è®¡æ—¶å™¨ï¼‰ CyclicBarrier(å¾ªç¯æ …æ ) ReentrantLock ã€ ReentrantReadWriteLock ã€StampedLockï¼ˆJDK8ï¼‰ CAS äº†è§£ä¹ˆï¼ŸåŸç†ï¼Ÿ Atomic åŸå­ç±» å¹¶å‘å®¹å™¨ï¼šConcurrentHashMap ã€ CopyOnWriteArrayList ã€ ConcurrentLinkedQueueBlockingQueue ã€ConcurrentSkipListMap Future å’Œ CompletableFuture JVMçš„å°é—®é¢˜ ä»€ä¹ˆæ˜¯è™šæ‹Ÿæœºï¼Ÿ Java å†…å­˜åŒºåŸŸæ˜¯æ€ä¹ˆåˆ’åˆ†çš„ï¼Ÿå¤§å¯¹è±¡æ”¾åœ¨å“ªä¸ªå†…å­˜åŒºåŸŸï¼Ÿ åƒåœ¾å›æ”¶æœ‰å“ªäº›ç®—æ³•ï¼ŸGC çš„æµç¨‹ ä»€ä¹ˆæ˜¯ç±»åŠ è½½ï¼Ÿä½•æ—¶ç±»åŠ è½½ï¼Ÿç±»åŠ è½½æµç¨‹ï¼Ÿ çŸ¥é“å“ªäº›ç±»åŠ è½½å™¨ã€‚ç±»åŠ è½½å™¨ä¹‹é—´çš„å…³ç³»ï¼Ÿ ç±»åŠ è½½å™¨çš„åŒäº²å§”æ´¾äº†è§£ä¹ˆï¼Ÿ ç»“åˆ Tomcat è¯´ä¸€ä¸‹åŒäº²å§”æ´¾ï¼ˆTomcat å¦‚ä½•æ‰“ç ´åŒäº²å§”æ‰˜æœºåˆ¶ï¼Ÿ&hellip;ï¼‰ã€‚ å¸¸è§è°ƒä¼˜å‚æ•°æœ‰å“ªäº›ï¼Ÿ MySQL å­¦ä¹ äº† MySQL ä¹‹åï¼ŒåŠ¡å¿…ç¡®ä¿è‡ªå·±æŒæ¡ä¸‹é¢è¿™äº›çŸ¥è¯†ç‚¹ï¼š
MySQL å¸¸ç”¨å‘½ä»¤ ï¼š å®‰å…¨ï¼šç™»å½•ã€å¢åŠ /åˆ é™¤ç”¨æˆ·ã€å¤‡ä»½æ•°æ®å’Œè¿˜åŸæ•°æ® æ•°æ®åº“æ“ä½œï¼š å»ºåº“å»ºè¡¨/åˆ åº“åˆ è¡¨ã€ç”¨æˆ·æƒé™åˆ†é… &hellip;&hellip; MySQL ä¸­å¸¸ç”¨çš„æ•°æ®ç±»å‹ã€å­—ç¬¦é›†ç¼–ç  MySQL ç®€å•æŸ¥è¯¢ã€æ¡ä»¶æŸ¥è¯¢ã€æ¨¡ç³ŠæŸ¥è¯¢ã€å¤šè¡¨æŸ¥è¯¢ä»¥åŠå¦‚ä½•å¯¹æŸ¥è¯¢ç»“æœæ’åºã€è¿‡æ»¤ã€åˆ†ç»„&hellip;&hellip; MySQL ä¸­ä½¿ç”¨ç´¢å¼•ã€è§†å›¾ã€å­˜å‚¨è¿‡ç¨‹ã€æ¸¸æ ‡ã€è§¦å‘å™¨ &hellip;&hellip; å¦‚æœä½ æƒ³è®©è‡ªå·±æ›´åŠ äº†è§£ MySQL ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸ºäº†å‡†å¤‡é¢è¯•çš„è¯ï¼Œä¸‹é¢è¿™äº›çŸ¥è¯†ç‚¹è¦æ ¼å¤–æ³¨æ„ï¼š
ç´¢å¼•ï¼šç´¢å¼•ä¼˜ç¼ºç‚¹ã€B æ ‘å’Œ B+æ ‘ã€èšé›†ç´¢å¼•ä¸éèšé›†ç´¢å¼•ã€è¦†ç›–ç´¢å¼• äº‹åŠ¡ï¼šäº‹åŠ¡ã€æ•°æ®åº“äº‹åŠ¡ã€ACIDã€å¹¶å‘äº‹åŠ¡ã€äº‹åŠ¡éš”ç¦»çº§åˆ« å­˜å‚¨å¼•æ“ï¼ˆMyISAM å’Œ InnoDBï¼‰ é”æœºåˆ¶ä¸ InnoDB é”ç®—æ³•
æ€»ç»“ å¦å¤–ï¼Œæˆ‘åœ¨ä¸Šé¢ä¹Ÿè¯´äº†ï¼Œå¦‚æœä½ è§‰å¾—å†…å®¹æ¯”è¾ƒå¤šè‡ªå·±å­¦ä¸å®Œæˆ–è€…å¦‚æœä½ åªæƒ³æ‰¾åˆ°ä¸€ä»½å°å‚çš„å¼€å‘å·¥ä½œçš„è¯ï¼Œå»ºè®®ä½ æŠŠé‡å¿ƒæ”¾åœ¨ JavaåŸºç¡€ã€æ•°æ®åº“ã€å¸¸ç”¨æ¡†æ¶ã€å¸¸ç”¨å·¥å…·ä¸Šã€‚
åƒ JVMã€åˆ†å¸ƒå¼ã€é«˜å¹¶å‘ã€é«˜å¯ç”¨ã€å¾®æœåŠ¡è¿™äº›çŸ¥è¯†ç‚¹ï¼Œå¦‚æœä½ æƒ³è¿›å¤§å‚æˆ–è€…è¯´è®©è‡ªå·±åœ¨æ±‚èŒçš„æ—¶å€™æ›´æœ‰ç«äº‰åŠ›ï¼Œé‚£ä½ å°±ä¹Ÿæ˜¯è¦å¤šèŠ±ä¸€ç‚¹æ—¶é—´æ¥å­¦ä¹ çš„ã€‚</content></entry><entry><title>Redis</title><url>https://infinitejk.github.io/post/redis/</url><categories><category>å­¦ä¹ </category></categories><tags><tag>Rediså­¦ä¹ ç¬”è®°</tag></tags><content type="html"> linux ä¸‹å®‰è£… Redis # ä¸Šä¼ å‹ç¼©åŒ…ã€‚ç§»åŠ¨åˆ° /optç›®å½•ä¸‹å¹¶è§£å‹ 1. ç§»åŠ¨ mv redis-6.0.6.tar.gz /opt/ 2. è§£å‹ tar zxvf redis-6.0.6.tar.gz 3. ç¼–è¯‘ï¼Œéœ€è¦å®‰è£…gcc-c++ç¯å¢ƒ yum install gcc-c++ ï¼ˆubuntuä¸‹å®‰è£… apt install build-essential ï¼‰ 4. make å‘½ä»¤ ç¼–è¯‘redis å®Œæˆååœ¨makeä¸€æ¬¡ ï¼Œæœ€åmake install å®‰è£… 5. redisçš„é»˜è®¤å®‰è£…è·¯å¾„ /usr/local/bin 6. æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†é…ç½®æ–‡ä»¶æ‹·è´è¿‡æ¥ mkdir myconfig cp /opt/redis-6.0.6/redis.conf myconfig 7. redisé»˜è®¤ä¸æ˜¯åå°å¯åŠ¨çš„ï¼Œè¦è¿›è¡Œä¿®æ”¹ vim æ‰“å¼€redis.conf å°†daemonize noæ”¹ä¸ºyes,ä¿å­˜ï¼Œé€€å‡º 8. é€šè¿‡æŒ‡å®šçš„é…ç½®æ–‡ä»¶å¯åŠ¨ redis-server myconfig/redis.conf 9. ä½¿ç”¨å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥ redis-cli -p 6379 10.å…³é—­redis shutdown æ€§èƒ½æµ‹è¯•å·¥å…· redis-benchmark redis-benchmark -h localhost -p 6379 -c 100 -n 100000
åŸºç¡€çŸ¥è¯† 16 ä¸ªæ•°æ®åº“ set key value æ—¶å‡ºç°é—®é¢˜ï¼ŒMISCONF Redis is configured to save RDB snapshots, but it is currently not able to persist on disk è§£å†³ï¼šå°† stop-writes-on-bgsave-error å€¼è®¾ç½®ä¸º no
äº”å¤§æ•°æ®ç±»å‹ String incr decr incrby decrby set get setex Expire key second :è®¾ç½®å½“å‰keyçš„è¿‡æœŸæ—¶é—´ setnx mset mget ttl: æŸ¥çœ‹è¿‡æœŸå‰©ä½™æ—¶é—´ msetnx åŸå­æ€§ getset List Lpush list 1 Rpush list 3 Lpop Rpop lrange list 0 -1 lindex list 0 Llen list lrem list count key ç§»é™¤æŒ‡å®šæ•°é‡çš„key ltrim list start stop é€šè¿‡ä¸‹æ ‡æˆªå– rpoplpush ç§»é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ·»åŠ åˆ°æ–°çš„list lset list index key æ›´æ–°åˆ—è¡¨ä¸­æŒ‡å®šä¸‹æ ‡çš„å€¼ linsert æ’å…¥ set sadd set hello æ·»åŠ å…ƒç´  smembers set å–å€¼ sismember set key åˆ¤æ–­keyæ˜¯å¦æ˜¯setä¸­å…ƒç´  scard set æŸ¥çœ‹setçš„é•¿åº¦ srem set key ç§»é™¤seté›†åˆä¸­çš„æŒ‡å®šå…ƒç´  srandmember set count éšæœºæŠ½å‡ºæŒ‡å®šä¸ªæ•°çš„å…ƒç´  spop set éšæœºåˆ é™¤ä¸€ä¸ªå…ƒç´  smove set set1 key å‘æŒ‡å®šé›†åˆç§»åŠ¨å…ƒç´  sdiff set set1 å·®é›† sinter set set1 äº¤é›† #å…±åŒå¥½å‹ sunion set set1 å¹¶é›† hash hset myhash field value å­˜å€¼ hget myhash field å–å€¼ hmset myhash field1 hello field2 world hmget myhash field1 field2 è·å–æŒ‡å®šçš„key-value hgetall myhash è·å–æ‰€æœ‰çš„key-value hdel myhash field1 åˆ é™¤æŒ‡å®šçš„key hlen myhash è·å–é•¿åº¦ Hexists myhash field1 åˆ¤æ–­æŒ‡å®šå­—æ®µæ˜¯å¦å­˜åœ¨ hkeys myhash åªè·å–key hvals myhash åªè·å–value hincrby myhash field1 5 æŒ‡å®šå­—æ®µå¢é‡ hsetnx myhash field4 hello ä¸å­˜åœ¨å°±åˆ›å»º hset user:1 name jikai hmset å¤šä¸ªå€¼çš„å­˜å‚¨ hashé€‚åˆå¯¹è±¡çš„å­˜å‚¨ï¼Œstringé€‚åˆå­˜å­—ç¬¦ä¸² Zset(æœ‰åºé›†åˆ) zadd myset score key æ·»åŠ å…ƒç´ ï¼Œscoreæ˜¯ä¸€ä¸ªæ ‡è¯†ï¼Œç”¨æ¥æ’åº zadd myset score1 key1 score2 key æ·»åŠ å¤šä¸ªå…ƒç´  #ä¾‹å­ zadd salary 3500 xiaoohong zadd salary 500 xiaolan zadd salary 1500 xiaohei zrangebyscore salary -inf +inf ä»å°åˆ°å¤§æ’åº zrangebyscore salary -inf +inf withscores ä»å°åˆ°å¤§æ’åºå¸¦æˆç»© zrevrangebyscore salary 0 -1 ä»å¤§æ‰“å° ############################### zrange salary 0 -1 æ˜¾ç¤ºæ‰€æœ‰å…ƒç´  zrem salary xiaohong ç§»é™¤å…ƒç´  zcard salary è·å–æœ‰åºé›†åˆä¸­å…ƒç´ çš„ä¸ªæ•° zcount myset 1 3 è·å–æŒ‡å®šåŒºé—´çš„æˆå‘˜æ•°é‡ æ’è¡Œæ¦œåº”ç”¨
ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹ geospatial åœ°ç†ä½ç½® æœ‹å‹å®šä½ï¼Œæ‰“è½¦è·ç¦»è®¡ç®—ï¼Œæ¨ç®—åœ°ç†ä½ç½®ä¿¡æ¯
# ç»åº¦ã€çº¬åº¦ã€åç§° geoadd china:city 116.40 39.90 beijing æ·»åŠ åœ°ç†ä½ç½®ä¿¡æ¯ geopos china:city beijing shanghai æŸ¥è¯¢åœ°ç†ä½ç½® geodist china:city beijing shanghai ä¸¤åœ°ä¹‹é—´çš„è·ç¦» georadius china:city 110 30 1000 km æŒ‡å®šä½ç½®å’ŒåŠå¾„å†…çš„æ‰€æœ‰å…ƒç´  georadius china:city 110 30 1000 km withcoord withdist count 3 georadiusbymember china:city beijing 100 km åº•å±‚æ˜¯ zsetï¼Œå¯ä»¥ç”¨ zset çš„å‘½ä»¤æ¥æ“ä½œ geo
hyperloglog åŸºæ•°ç»Ÿè®¡çš„ç®—æ³• ï¼ˆåŸºæ•°ï¼šé›†åˆä¸­ä¸é‡å¤çš„å…ƒç´ ï¼‰
pfadd mykey a b c #åˆ›å»ºç¬¬ä¸€ç»„å…ƒç´  pfcount mykey #ç»Ÿè®¡ mykeyä¸­åŸºæ•°çš„æ•°é‡ pfmerge mykey3 mykey1 mykey2 #åˆå¹¶åˆ°mykey3 bitmap ä½å­˜å‚¨ï¼ˆåªæœ‰ 0 å’Œ 1ï¼‰ bitmap ä½å›¾ ç»Ÿè®¡ç”¨æˆ·ä¿¡æ¯ï¼Œå½“åªæœ‰ä¸¤ç§çŠ¶æ€ 0 1 æ—¶å¯ä»¥ä½¿ç”¨
setbit sign 1 0 setbit sign 2 1 setbit sign 3 1 getbit sign 1 bitcount sign ç»Ÿè®¡ä¸º1çš„æ•°é‡ äº‹åŠ¡ ==redis å•æ¡å‘½ä»¤æ˜¯ä¿è¯åŸå­æ€§çš„ï¼Œredis çš„äº‹åŠ¡ä¸ä¿è¯åŸå­æ€§== ==redis æ²¡æœ‰éš”ç¦»çº§åˆ«çš„æ¦‚å¿µ== redis äº‹ç‰©çš„æœ¬è´¨ï¼šä¸€ç»„å‘½ä»¤çš„é›†åˆï¼ä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«åºåˆ—åŒ–ï¼Œåœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œ ä¸€æ¬¡æ€§ã€é¡ºåºæ€§ã€æ’ä»–æ€§
ä½¿ç”¨äº‹åŠ¡çš„æ­¥éª¤ æ­£å¸¸æ‰§è¡Œäº‹åŠ¡
å¼€å¯äº‹åŠ¡ï¼ˆmultiï¼‰ å‘½ä»¤å…¥é˜Ÿï¼ˆã€‚ã€‚ã€‚ã€‚ï¼‰ æ‰§è¡Œäº‹åŠ¡ï¼ˆexecï¼‰ æ”¾å¼ƒäº‹åŠ¡ discard
ç¼–è¯‘å‹å¼‚å¸¸ï¼ˆä»£ç æœ‰é—®é¢˜ï¼Œå‘½ä»¤æœ‰é—®é¢˜ï¼‰æ‰€æœ‰å‘½ä»¤éƒ½ä¸ä¼šæ‰§è¡Œ è¿è¡Œæ—¶å¼‚å¸¸ è¿™ä¸€è¡Œå‘½ä»¤ä¸ä¼šæ‰§è¡Œï¼Œå…¶ä»–è¿˜æ˜¯ä¼šæ‰§è¡Œ
ç›‘æ§ï¼ˆwatchï¼‰- åŠ é”
æ‚²è§‚é”: è®¤ä¸ºä»€ä¹ˆæ—¶å€™éƒ½ä¼šå‡ºé—®é¢˜ï¼Œæ— è®ºåšä»€ä¹ˆå…¨éƒ¨åŠ é” ä¹è§‚é”ï¼šé»˜è®¤æ²¡æœ‰é—®é¢˜ï¼Œæ›´æ–°æ•°æ®çš„æ—¶å€™å»åˆ¤æ–­åœ¨æ­¤æœŸé—´æ˜¯å¦æœ‰äººä¿®æ”¹è¿‡æ•°æ® MySQL è·å– version,æ›´æ–°æ—¶æ¯”è¾ƒ version è§£é” ï¼ˆunwatchï¼‰
redis å®ç°ä¹è§‚é” ä½¿ç”¨ watch å»å®ç°, ç›‘æ§ money å¯¹è±¡ äº‹åŠ¡æ­£å¸¸ç»“æŸï¼Œæ•°æ®åœ¨è¿™æœŸé—´æ²¡æœ‰å‘ç”Ÿå˜åŒ– å¦‚æœæœ‰å¦å¤–ä¸€ä¸ªçº¿ç¨‹æ”¹å˜äº†è¿™ä¸ªæ•°æ®ï¼Œäº‹åŠ¡å°±ä¸ä¼šæ­£å¸¸æ‰§è¡Œï¼Œè¿™æ—¶å€™å…ˆè§£é”ï¼Œé‡æ–°è·å–ä¸€ä¸‹æœ€æ–°å€¼ï¼Œå†æ¬¡ç›‘æ§æ‰§è¡Œäº‹åŠ¡
Jedis å¯¼å…¥ jedis çš„åŒ… &lt;!--jedis--> &lt;dependency> &lt;groupId>redis.clients&lt;/groupId> &lt;artifactId>jedis&lt;/artifactId> &lt;version>4.1.0&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>com.alibaba&lt;/groupId> &lt;artifactId>fastjson&lt;/artifactId> &lt;version>1.2.75&lt;/version> &lt;/dependency> è¿æ¥è¿œç¨‹æ•°æ®åº“ # é…ç½®redis.confæ–‡ä»¶ æ³¨é‡Š bind 127.0.0.1 è®¾ç½®å¯†ç  requirepass 134567 å»æ‰ä¿æŠ¤æ¨¡å¼ protected-mode no é˜²ç«å¢™å¼€å¯6379ç«¯å£ æ•´åˆ springboot jedisï¼šé‡‡ç”¨çš„ç›´è¿ï¼Œå¤šçº¿ç¨‹æ“ä½œä¸å®‰å…¨ï¼Œå¯ä»¥ä½¿ç”¨ jedis pool è¿æ¥æ±  æ›´åƒ BIO lettuceï¼šé‡‡ç”¨ netty,å®ä¾‹å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº« æ›´åƒ NIO
BIO NIO çš„åŸºæœ¬æ¦‚å¿µå’ŒåŒºåˆ«ï¼Ÿ åŒæ­¥å’Œå¼‚æ­¥ï¼š io æ“ä½œåˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ å‘èµ· IO è¯·æ±‚å’Œå®é™… IO æ“ä½œï¼ŒåŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«åœ¨äºå®é™… IO æ“ä½œæ˜¯å¦é˜»å¡ï¼Œå¼‚æ­¥ä¸éœ€è¦ç­‰å¾…å¤„ç†ç»“æœï¼Œ é˜»å¡å’Œéé˜»å¡ï¼š é˜»å¡å°±æ˜¯è¦ç­‰å¾…ï¼Œéé˜»å¡å°±æ˜¯è°ƒç”¨è€…ä¸ç”¨ç­‰å¾…ï¼Œå…ˆå»å¹²åˆ«çš„äº‹ï¼Œæœ‰äº†ç»“æœå†å»é€šçŸ¥è°ƒç”¨è€… BIO(Blocking IO) åŒæ­¥é˜»å¡ IO,æ•°æ®çš„è¯»å†™å¿…é¡»é˜»å¡åœ¨ä¸€ä¸ªçº¿ç¨‹å†…ç­‰å¾…å…¶å®Œæˆ NIO(new IO) åŒæ­¥éé˜»å¡ AIO(Asynchronous IO) å¼‚æ­¥éé˜»å¡ å½“å‰ springboot ç‰ˆæœ¬ä½¿ç”¨çš„ lettuce
å¯¼å…¥ä¾èµ–
&lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-data-redis&lt;/artifactId> &lt;/dependency> é…ç½®æ–‡ä»¶
#è¿œç¨‹æ•°æ®åº“çš„ipåœ°å€ spring.redis.host=110.42.153.193 #ç«¯å£å· spring.redis.port=6379 #è¿æ¥å¯†ç  spring.redis.password=134567 ä½¿ç”¨RedisTemplate
@Autowired private RedisTemplate redisTemplate; @Test void contextLoads() { //å‡ ç§æ•°æ®ç±»å‹çš„æ“ä½œ // redisTemplate.opsForValue(); // redisTemplate.opsForList(); // redisTemplate.opsForSet(); // redisTemplate.opsForHash(); // redisTemplate.opsForZSet(); // redisTemplate.opsForGeo(); // redisTemplate.opsForHyperLogLog(); // redisTemplate.opsForCluster(); //é›†ç¾¤ç›¸å…³çš„ //è·å–è¿æ¥ // RedisConnection connection = redisTemplate.getConnectionFactory().getConnection(); // connection.flushDb(); // connection.flushAll(); redisTemplate.opsForValue().set("name","ç›‘æ§"); System.out.println(redisTemplate.opsForValue().get("name")); } ==redis å¯¹è±¡éœ€è¦è¿›è¡Œåºåˆ—åŒ–==
åºåˆ—åŒ–çš„ä½œç”¨
é…ç½®è‡ªå·±çš„ redisTemplate å¹¶è®¾ç½®è‡ªå·±çš„åºåˆ—åŒ–æ“ä½œ
@Configuration public class RedisConfig { @Bean //è‡ªå®šä¹‰RedisTemplate public RedisTemplate&lt;String, Object> redisTemplate(RedisConnectionFactory redisConnectionFactory) { RedisTemplate&lt;String, Object> template = new RedisTemplate(); template.setConnectionFactory(redisConnectionFactory); //Jsonåºåˆ—åŒ–é…ç½® Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class); //stringçš„åºåˆ—åŒ– StringRedisSerializer stringRedisSerializer = new StringRedisSerializer(); //key é‡‡ç”¨stringçš„åºåˆ—åŒ–æ–¹å¼ template.setKeySerializer(stringRedisSerializer); //hashçš„key é‡‡ç”¨stringçš„åºåˆ—åŒ–æ–¹å¼ template.setHashKeySerializer(stringRedisSerializer); //value é‡‡ç”¨jacksonçš„åºåˆ—åŒ–æ–¹å¼ template.setValueSerializer(jackson2JsonRedisSerializer); //hashçš„value é‡‡ç”¨jacksonçš„åºåˆ—åŒ–æ–¹å¼ template.setHashValueSerializer(jackson2JsonRedisSerializer); template.afterPropertiesSet(); return template; } } çœŸå®çš„å¼€å‘ä¸­ï¼Œæœ‰ä¸€ä¸ª redis çš„å·¥å…·ç±»ï¼Œå°è£…äº†ä¸€äº›å¸¸ç”¨å‘½ä»¤
Redis.conf è¯¦è§£ é™åˆ¶å®¢æˆ·ç«¯è¿æ¥
Redis æŒä¹…åŒ–ç­–ç•¥ RDB(Redis DataBase) å¿«ç…§ è¿‡ç¨‹ï¼š Redisä¼šå•ç‹¬åˆ›å»ºï¼ˆforkï¼‰ä¸€ä¸ªå­è¿›ç¨‹æ¥è¿›è¡ŒæŒä¹…åŒ–ï¼Œä¼šå…ˆå°†æ•°æ®å†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ä¸­ï¼Œå¾…æŒä¹…åŒ–è¿‡ç¨‹ç»“æŸï¼Œå†ç”¨è¿™ä¸ªä¸´æ—¶æ–‡ä»¶æ›¿æ¢ä¸Šæ¬¡æŒä¹…åŒ–çš„æ–‡ä»¶ï¼Œä¸»è¿›ç¨‹ä¸è¿›è¡Œä»»ä½•ioæ“ä½œï¼Œå¯¹æ•°æ®æ¢å¤çš„å®Œæ•´å‹ä¸æ˜¯éå¸¸æ•æ„Ÿã€‚ ==ä¿å­˜çš„æ–‡ä»¶å dump.rdb== ç¼ºç‚¹ï¼šæœ€åä¸€æ¬¡æŒä¹…åŒ–åçš„æ•°æ®å¯èƒ½ä¸¢å¤±
è§¦å‘æœºåˆ¶ï¼š
æ»¡è¶³ save è§„åˆ™
# 900ç§’å†…ä¿®æ”¹ä¸€æ¬¡save 900 1 # 300ç§’å†…ä¿®æ”¹10æ¬¡save 300 10save 60 10000 æ‰§è¡Œ flushall å‘½ä»¤
é€€å‡º redis
å¦‚ä½•æ¢å¤ rdb æ–‡ä»¶ï¼Œæ”¾åˆ° redis å¯åŠ¨ç›®å½•å³å¯
AOF(AppendOnlyFile) å°†æ‰€æœ‰çš„å‘½ä»¤å…¨éƒ¨è®°å½•ä¸‹æ¥ï¼ˆæ—¥å¿—çš„å½¢å¼ï¼‰ ==ä¿å­˜çš„æ–‡ä»¶å appendonly.aof== åªè®°å½•å†™çš„æ“ä½œï¼Œ é»˜è®¤ä¸å¼€å¯ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½® redis.config appendonlyè®¾ä¸ºyes
å¦‚æœ aof æ–‡ä»¶æœ‰é—®é¢˜ï¼Œä¼šå‡ºç°é”™è¯¯ï¼Œå¯åŠ¨ä¸äº† redisï¼Œéœ€è¦ä¿®å¤ aof æ–‡ä»¶redis-check-aof --fix å¦‚æœæ­£å¸¸ï¼Œæ”¾åˆ°å¯åŠ¨ç›®å½•å°±å¯ä»¥æ¢å¤æ•°æ®åº“
åŒæ­¥ç­–ç•¥
# appendfsync always æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½åŒæ­¥appendfsync everysec æ¯ç§’åŒæ­¥ä¸€æ¬¡# appendfsync no ä»ä¸åŒæ­¥ä¼˜ç‚¹ï¼š
æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½åŒæ­¥ï¼Œæ–‡ä»¶çš„å®Œæ•´ä¼šæ›´å¥½ æ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼Œå¯èƒ½ä¼šä¸¢å¤±ä¸€ç§’æ•°æ® ä»ä¸åŒæ­¥ï¼Œæ€§èƒ½æœ€å¥½ ç¼ºç‚¹ï¼š å¯¹æ¯”RDB,æ–‡ä»¶æ›´å¤§,ä¿®å¤é€Ÿåº¦ä¹Ÿè¾ƒæ…¢ aofçš„è¿è¡Œæ•ˆç‡æ¯”rdbæ…¢ï¼Œæ‰€ä»¥redisçš„é»˜è®¤é…ç½®æ˜¯rdbæŒä¹…åŒ–</content></entry><entry><title>Spring Cloudå­¦ä¹ ç¬”è®°</title><url>https://infinitejk.github.io/post/springcloud/</url><categories><category>å­¦ä¹ </category></categories><tags><tag>javaå­¦ä¹ ç¬”è®°</tag></tags><content type="html"> Eureka &lt;!--spring-cloud-starter-eureka-server --> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-eureka-server&lt;/artifactId> &lt;version>1.4.7.RELEASE&lt;/version> &lt;/dependency> &lt;!-- spring-cloud-starter-eureka --> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-eureka&lt;/artifactId> &lt;version>1.4.7.RELEASE&lt;/version> &lt;/dependency> CAPåŸåˆ™ C (Consistency) å¼ºä¸€è‡´æ€§ A (Avaliablity) å¯ç”¨æ€§ P (Partition tolerance) åˆ†åŒºå®¹é”™æ€§ CAPç†è®ºçš„æ ¸å¿ƒ æ ¹æ®CAPï¼Œå°†NoSQLæ•°æ®åº“åˆ†æˆäº†æ»¡è¶³CAåŸåˆ™ã€æ»¡è¶³CPåŸåˆ™ã€æ»¡è¶³APåŸåˆ™ä¸‰å¤§ç±»: CA: å•ç‚¹é›†ç¾¤ï¼Œæ»¡è¶³ä¸€è‡´æ€§ï¼Œå¯ç”¨æ€§çš„ç³»ç»Ÿï¼Œé€šå¸¸å¯æ‰©å±•æ€§è¾ƒå·® CP: æ»¡è¶³ä¸€è‡´æ€§ï¼Œåˆ†åŒºå®¹é”™æ€§çš„ç³»ç»Ÿ,é€šå¸¸æ€§èƒ½ä¸æ˜¯ç‰¹åˆ«é«˜ AP: æ»¡è¶³å¯ç”¨æ€§ï¼Œåˆ†åŒºå®¹é”™æ€§çš„ç³»ç»Ÿï¼Œå¯¹ä¸€è‡´æ€§è¦æ±‚è¾ƒä½ zookeeperå’Œeurekaçš„åŒºåˆ«ï¼Ÿ ä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œeurakeæ¯”zookeeperæ›´åˆé€‚ã€‚ zookeeperä¿è¯çš„æ˜¯CPï¼Œeurekaä¿è¯çš„æ˜¯AP(åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œåˆ†åŒºå®¹é”™æ€§æ˜¯ä¸€å®šè¦ä¿è¯çš„) ZooKeeper é€‰ä¸¾leaderæ—¶é—´é•¿ï¼Œæ­¤æœŸé—´é›†ç¾¤ä¸å¯ç”¨ Eureka å„èŠ‚ç‚¹å¹³ç­‰
è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼ˆå¿ƒè·³ï¼‰ï¼š15åˆ†é’Ÿå†…è¶…è¿‡85%çš„èŠ‚ç‚¹éƒ½æ²¡æœ‰æ­£å¸¸çš„å¿ƒè·³ï¼Œè®¤ä¸ºå®¢æˆ·ç«¯å’Œæ³¨å†Œä¸­å¿ƒå‡ºç°ç½‘ç»œæ•…éšœï¼Œä¼šå‡ºç°ä»¥ä¸‹å‡ ç§æƒ…å†µ
Eurekaä¸å†ä»æ³¨å†Œåˆ—è¡¨ä¸­ç§»é™¤å› ä¸ºé•¿æ—¶é—´æ²¡æ”¶åˆ°å¿ƒè·³è€Œåº”è¯¥è¿‡æœŸçš„æœåŠ¡ Eurekaä»ç„¶èƒ½å¤Ÿæ¥å—æ–°æœåŠ¡çš„æ³¨å†Œå’ŒæŸ¥è¯¢è¯·æ±‚ï¼Œä½†æ˜¯ä¸ä¼šåŒæ­¥åˆ°å…¶ä»–èŠ‚ç‚¹ï¼ˆä¿è¯å½“å‰èŠ‚ç‚¹å¯ç”¨ï¼‰ å½“ç½‘ç»œç¨³å®šæ—¶ï¼Œå½“å‰å®ä¾‹æ–°çš„æ³¨å†Œä¿¡æ¯ä¼šè¢«åŒæ­¥åˆ°å…¶ä»–çš„èŠ‚ç‚¹ä¸Š æ€»ç»“ï¼šEurekaå¯ä»¥å¾ˆå¥½çš„åº”å¯¹ç½‘ç»œæ•…éšœå¯¼è‡´éƒ¨åˆ†èŠ‚ç‚¹å¤±å»è”ç³»çš„æƒ…å†µï¼Œä¸ä¼šåƒzookeeperé‚£æ ·ä½¿æ•´ä¸ªæ³¨å†ŒæœåŠ¡ç˜«ç—ª
httpå’Œrpcçš„åŒºåˆ«
Ribbon å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„å·¥å…· LB:è´Ÿè½½å‡è¡¡(load balance)â€”â€”å°†ç”¨æˆ·çš„è¯·æ±‚å¹³æ‘Šçš„åˆ†é…åˆ°å¤šä¸ªæœåŠ¡ä¸Šï¼Œä»è€Œè¾¾åˆ°ç³»ç»Ÿçš„HA(é«˜å¯ç”¨)ã€‚
é›†ä¸­å¼LB: åœ¨æœåŠ¡æ¶ˆè´¹æ–¹å’Œæä¾›æ–¹ä¹‹é—´è®¾ç½®ç‹¬ç«‹çš„LBè®¾æ–½ï¼Œå¦‚Nginx: å‘ä»£ç†æœåŠ¡å™¨ è¿›ç¨‹å¼LB: å°†è´Ÿè½½å‡è¡¡çš„é€»è¾‘é›†æˆåˆ°æ¶ˆè´¹æ–¹ï¼Œæ¶ˆè´¹æ–¹ä»æ³¨å†Œä¸­å¿ƒè·å¾—å¯ç”¨çš„åœ°å€ï¼Œåœ¨è‡ªå·±é€‰æ‹©åˆé€‚çš„æœåŠ¡å™¨ ä½¿ç”¨ å¯¼å…¥ä¾èµ–
&lt;!--Ribbon--> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-ribbon&lt;/artifactId> &lt;version>1.4.7.RELEASE&lt;/version> &lt;/dependency> 1.4.7çš„Eurekaä¸­æœ‰loadBalancerå°±ä¸éœ€è¦å¯¼åŒ… é€šè¿‡æœåŠ¡åå»æ³¨å†Œä¸­å¿ƒé‡Œè·å–å¯ç”¨çš„æœåŠ¡å™¨
Feign æ¥å£å’Œæ³¨è§£ ï¼š
//åˆ›å»ºä¸€ä¸ªserviceçš„æ¥å£ï¼Œé€šè¿‡æ³¨è§£çš„valueå€¼æ¥å‘ç°æœåŠ¡ @FeignClient(value = "SPRINGCLOUD-PROVIDER-DEPT") public interface DeptClientService { @RequestMapping("/dept/add") public boolean add(Dept dept); @RequestMapping("/dept/get/{id}") public Dept get(@PathVariable("id") int id); @RequestMapping("/dept/list") public List&lt;Dept> queryAll(); } //åœ¨controllerå±‚ï¼Œä»å®¹å™¨ä¸­è·å¾—è¿™ä¸ªfeignçš„æ¥å£ï¼Œè°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³• @Autowired private DeptClientService service=null; @RequestMapping("/consumer/dept/add") public boolean add(Dept dept) { return this.service.add(dept); } //æœ€ååœ¨å¯åŠ¨ç±»ä¸Šé…ç½®feign @EnableFeignClients(basePackages = {"com.infinite.springcloud"}) public class DeptConsumer_feign { public static void main(String[] args) { SpringApplication.run(DeptConsumer_feign.class,args); } } Hystrix ç†”æ–­ï¼šæœåŠ¡ç«¯ æŸä¸ªæœåŠ¡è¶…æ—¶æˆ–è€…å¼‚å¸¸ï¼Œå¼•èµ·ç†”æ–­ ï¼ˆç¼ºçœæ˜¯5ç§’å†…20æ¬¡è°ƒç”¨å¤±è´¥å°±ä¼šå¯åŠ¨ç†”æ–­æœºåˆ¶ï¼‰ @HystrixCommond(value="æ–¹æ³•å")
é™çº§ï¼šå®¢æˆ·ç«¯ ä»æ•´ä½“ç½‘ç«™è¯·æ±‚è´Ÿè½½è€ƒè™‘ã€‚å½“æŸä¸ªæœåŠ¡ç†”æ–­æˆ–è€…å…³é—­åï¼ŒæœåŠ¡å°†ä¸å†è¢«è°ƒç”¨ åœ¨å®¢æˆ·ç«¯å‡†å¤‡ä¸€ä¸ªFallbackFactory,è¿”å›ä¸€ä¸ªç¼ºçœå€¼ã€‚
æ•´ä½“çš„æœåŠ¡æ°´å¹³ä¸‹é™ï¼Œä½†æ˜¯ä¿è¯å¯ç”¨ï¼Œä¸ä¼šç›´æ¥æŒ‚æ‰
ä½¿ç”¨ æœåŠ¡ç†”æ–­
&lt;!--å¯¼å…¥ä¾èµ– spring-cloud-starter-hystrix 1.4.7 å·²è¿‡æœŸ--> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-netflix-hystrix&lt;/artifactId> &lt;version>2.0.0.RELEASE&lt;/version> &lt;/dependency> //é…ç½®è§£å†³æ–¹æ³• @GetMapping("/dept/get/{id}") @HystrixCommand(fallbackMethod = "hystrixGet") public Dept get(@PathVariable int id){ Dept dept = deptService.queryById(id); if(dept==null){ throw new RuntimeException("id=>"+id+",è¯¥ç”¨æˆ·ä¸å­˜åœ¨"); } return dept; } //å¤‡é€‰æ–¹æ¡ˆ public Dept hystrixGet(@PathVariable int id){ return new Dept() .setDeptNo(id) .setDeptName("id=>"+id+",è¯¥ç”¨æˆ·ä¸å­˜åœ¨,null--@Hystrix") .setDbName("no this database in MySQL"); } //åœ¨å¯åŠ¨ç±»ä¸Šå¼€å¯è¯¥åŠŸèƒ½ @EnableHystrix public class DeptProviderHystrix_8001 { public static void main(String[] args) { SpringApplication.run(DeptProviderHystrix_8001.class,args); } } æœåŠ¡é™çº§
//å®¢æˆ·ç«¯ DashBoardæµç›‘æ§ &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-netflix-hystrix-dashboard&lt;/artifactId> &lt;version>2.2.0.RELEASE&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-netflix-hystrix&lt;/artifactId> &lt;version>2.0.0.RELEASE&lt;/version> &lt;/dependency> //é…ç½®å¯åŠ¨ç±» @SpringBootApplication @EnableHystrixDashboard public class DeptConsumer_Dashboard_9001 { public static void main(String[] args) { SpringApplication.run(DeptConsumer_Dashboard_9001.class,args); } } //é…ç½®ç›‘æ§urlï¼Œåœ¨æœåŠ¡æä¾›è€… @Bean public ServletRegistrationBean hystrixMetricsStreamServlet() { ServletRegistrationBean registrationBean = new ServletRegistrationBean(new HystrixMetricsStreamServlet()); registrationBean.addUrlMappings("/actuator/hystrix.stream"); return registrationBean; }</content></entry><entry><title>å¸¸ç”¨å¤åˆ¶</title><url>https://infinitejk.github.io/post/%E5%B8%B8%E7%94%A8%E5%A4%8D%E5%88%B6/</url><categories><category>å­¦ä¹ </category></categories><tags><tag>javaå­¦ä¹ ç¬”è®°</tag></tags><content type="html"> thymeleafå‘½åç©ºé—´ xmlns:th="http://www.thymeleaf.org"
thymeleafä¾èµ– &lt;dependency> &lt;groupId>org.thymeleaf&lt;/groupId> &lt;artifactId>thymeleaf-spring5&lt;artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.thymeleaf.extras&lt;/groupId> &lt;artifactId>thymeleaf-extras-java8time&lt;artifactId> &lt;/dependency> shiro-spring &lt;!-- https://mvnrepository.com/artifact/org.apache.shiro/shiro-spring --> &lt;dependency> &lt;groupId>org.apache.shiro&lt;/groupId> &lt;artifactId>shiro-spring&lt;/artifactId> &lt;version>1.8.0&lt;/version> &lt;/dependency> springbooté¡¹ç›®ä¾èµ– &lt;dependencies> &lt;!--spring-cloud-dependencies --> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-dependencies&lt;/artifactId> &lt;version>2021.0.0&lt;/version> &lt;type>pom&lt;/type> &lt;scope>import&lt;/scope> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-dependencies&lt;/artifactId> &lt;version>2.6.1&lt;/version> &lt;type>pom&lt;/type> &lt;scope>import&lt;/scope> &lt;/dependency> &lt;!--mysql--> &lt;dependency> &lt;groupId>mysql&lt;/groupId> &lt;artifactId>mysql-connector-java&lt;/artifactId> &lt;version>8.0.27&lt;/version> &lt;/dependency> &lt;!--æ•°æ®åº“è¿æ¥æ± --> &lt;dependency> &lt;groupId>com.alibaba&lt;/groupId> &lt;artifactId>druid&lt;/artifactId> &lt;version>1.1.23&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>org.mybatis.spring.boot&lt;/groupId> &lt;artifactId>mybatis-spring-boot-starter&lt;/artifactId> &lt;version>2.2.0&lt;/version> &lt;/dependency> &lt;!--junit--> &lt;dependency> &lt;groupId>junit&lt;/groupId> &lt;artifactId>junit&lt;/artifactId> &lt;version>${junit.version}&lt;/version> &lt;scope>test&lt;/scope> &lt;/dependency> &lt;!--lombok--> &lt;dependency> &lt;groupId>org.projectlombok&lt;/groupId> &lt;artifactId>lombok&lt;/artifactId> &lt;version>${lombok.version}&lt;/version> &lt;/dependency> &lt;!--log4j--> &lt;dependency> &lt;groupId>log4j&lt;/groupId> &lt;artifactId>log4j&lt;/artifactId> &lt;version>${log4j.version}&lt;/version> &lt;/dependency> &lt;!--æ—¥å¿—æµ‹è¯•--> &lt;dependency> &lt;groupId>ch.qos.logback&lt;/groupId> &lt;artifactId>logback-core&lt;/artifactId> &lt;version>1.2.3&lt;/version> &lt;/dependency> &lt;/dependencies></content></entry><entry><title>Vueæ–°å»ºé¡¹ç›®</title><url>https://infinitejk.github.io/post/vue%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url><categories><category>å­¦ä¹ </category></categories><tags><tag>javawebå­¦ä¹ ç¬”è®°</tag></tags><content type="html"> é…ç½®æ·˜å®é•œåƒ npm config set registry https://registry.npm.taobao.org
æ–°å»ºé¡¹ç›®æ­¥éª¤ æ–°å»ºå·¥ç¨‹ vue init webpack hello-vue ä¸€è·¯ é€‰æ‹© no
å®‰è£…ä¾èµ– # è¿›å…¥å·¥ç¨‹ç›®å½• cd hello-vue # å®‰è£… vue-router npm install vue-router --save-dev # å®‰è£… element-ui npm i element-ui -s # å®‰è£…ä¾èµ– npm install # å®‰è£…SASSåŠ è½½å™¨ cnpm install sass-loader node-sass --save-dev # å¯åŠ¨æµ‹è¯• npm run dev</content></entry><entry><title>Springå­¦ä¹ ç¬”è®°</title><url>https://infinitejk.github.io/post/springboot/</url><categories><category>å­¦ä¹ </category></categories><tags><tag>javaå­¦ä¹ ç¬”è®°</tag></tags><content type="html"> springboot mybatis å¼€å¯å®ä½“ç±»é©¼å³°å‘½åå’Œæ•°æ®åº“ä¸‹åˆ’çº¿å‘½åè‡ªåŠ¨è½¬æ¢ mybatis:configuration:map-underscore-to-camel-case:trueshiro è®¿é—®æŸä¸ªèµ„æºæ—¶çš„æ‰§è¡Œæµç¨‹ æ‰§è¡Œè®¤è¯â†’æ ¹æ®è¡¨å•ä¸­usernameå’Œpasswordå°è£…æˆä¸€ä¸ªtoken
realmä¸­æ¥å—åˆ°è¿™ä¸ªtokenï¼Œæ ¹æ®è¯¥tokençš„usernameå»æ•°æ®åº“ä¸­æŸ¥å‡ºè¯¥ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå°è£…æˆä¸€ä¸ªå¯¹è±¡ è¿›è¡Œå¯†ç çš„æ ¡éªŒ
å¯†ç æ­£ç¡®ï¼Œç™»å½•æˆåŠŸâ†’è®¤è¯æˆåŠŸ
å¦åˆ™ï¼Œéœ€è¦é‡æ–°ç™»å½•è®¤è¯
è®¤è¯æˆåŠŸåï¼Œå†æ¬¡è®¿é—®èµ„æºï¼Œå› ä¸ºè®¾ç½®äº†æƒé™ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œæˆæƒæ“ä½œï¼Œæˆæƒçš„å€¼æ¥è‡ªæ•°æ®åº“æŸ¥è¯¢åˆ°çš„é‚£ä¸ªå¯¹è±¡ã€‚
æœ‰äº†æƒé™æ‰èƒ½ç»§ç»­è®¿é—®ï¼Œå¦åˆ™è·³è½¬åˆ°æ— æƒé™é¡µé¢
æ³¨é”€ï¼Œsubject.logout()
Swagger åˆ›å»ºé¡¹ç›® å¯¼å…¥ä¾èµ– &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --> &lt;dependency> &lt;groupId>io.springfox&lt;/groupId> &lt;artifactId>springfox-swagger2&lt;/artifactId> &lt;version>3.0.0&lt;/version> &lt;/dependency> &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --> &lt;dependency> &lt;groupId>io.springfox&lt;/groupId> &lt;artifactId>springfox-swagger-ui&lt;/artifactId> &lt;version>3.0.0&lt;/version> &lt;/dependency> SpringBooté›†æˆswaggeråå‡ºç°: Failed to start bean â€˜documentationPluginsBootstrapperâ€˜çš„è§£å†³æ–¹æ³• è§£å†³åŠæ³•ï¼šæ·»åŠ guavaä¾èµ–ï¼Œspringbooté™çº§â†’2.5.7 ç›´æ¥ä½¿ç”¨ springfox-boot-starter
è®¿é—® http://localhost:8080/swagger-ui.html
ç›´æ¥ä½¿ç”¨3.0.0
&lt;dependency> &lt;groupId>io.springfox&lt;/groupId> &lt;artifactId>springfox-boot-starter&lt;/artifactId> &lt;version>3.0.0&lt;/version> &lt;/dependency> è®¿é—® http://localhost:8080/swagger-ui/index.html
ç›¸å…³æ³¨è§£ @Apiï¼šç”¨åœ¨controllerç±»ï¼Œæè¿°APIæ¥å£ @ApiOperationï¼šæè¿°æ¥å£æ–¹æ³• @ApiModelï¼šæè¿°å¯¹è±¡ @ApiModelPropertyï¼šæè¿°å¯¹è±¡å±æ€§ @ApiImplicitParamsï¼šæè¿°æ¥å£å‚æ•° @ApiResponsesï¼šæè¿°æ¥å£å“åº” @ApiIgnoreï¼šå¿½ç•¥æ¥å£æ–¹æ³• å¼‚æ­¥ä»»åŠ¡ é‚®ä»¶ä»»åŠ¡ å¯¼å…¥ä¾èµ– &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-mail&lt;/artifactId> &lt;/dependency> spring:mail:username:infinitejk@163.compassword:SBUEQFLVQNELPIUKhost:smtp.163.compublic void mailUtils(boolean html,String subject,String setTo) throws MessagingException { MimeMessage mimeMessage = mailSender.createMimeMessage(); MimeMessageHelper helper = new MimeMessageHelper(mimeMessage, html); helper.setSubject(subject); helper.setText("&lt;p style='color:red'>javamailå‘é€&lt;/p>",true); helper.addAttachment("1.txt",new File("D:\\åšå®¢mdæ–‡æ¡£\\blog-md-document\\note\\12-22 å®ä¹ æ—¥æŠ¥.txt")); helper.setTo(setTo); helper.setFrom("infinitejk@163.com"); mailSender.send(mimeMessage); } dubbo + zookeeper ä¸‹è½½zookeeper,æ·»åŠ zoo.cogæ–‡ä»¶ï¼Œè¿è¡Œ
å¯¼å…¥ä¾èµ– pom.xml
&lt;!-- https://mvnrepository.com/artifact/org.apache.dubbo/dubbo-spring-boot-starter --> &lt;dependency> &lt;groupId>org.apache.dubbo&lt;/groupId> &lt;artifactId>dubbo-spring-boot-starter&lt;/artifactId> &lt;version>2.7.8&lt;/version> &lt;/dependency> &lt;!-- https://mvnrepository.com/artifact/com.github.sgroschupf/zkclient --> &lt;dependency> &lt;groupId>com.github.sgroschupf&lt;/groupId> &lt;artifactId>zkclient&lt;/artifactId> &lt;version>0.1&lt;/version> &lt;/dependency> &lt;!-- https://mvnrepository.com/artifact/org.apache.zookeeper/zookeeper --> &lt;dependency> &lt;groupId>org.apache.zookeeper&lt;/groupId> &lt;artifactId>zookeeper&lt;/artifactId> &lt;version>3.7.0&lt;/version> &lt;!--æ’é™¤slf4j--> &lt;exclusions> &lt;exclusion> &lt;groupId>org.slf4j&lt;/groupId> &lt;artifactId>slf4j-log4j12&lt;/artifactId> &lt;/exclusion> &lt;/exclusions> &lt;/dependency> &lt;dependency> &lt;groupId>org.apache.curator&lt;/groupId> &lt;artifactId>curator-framework&lt;/artifactId> &lt;version>4.2.0&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>org.apache.curator&lt;/groupId> &lt;artifactId>curator-recipes&lt;/artifactId> &lt;version>4.2.0&lt;/version> &lt;/dependency> æœåŠ¡æä¾›è€…çš„æµç¨‹
åˆ›å»ºä¸€ä¸ªæœåŠ¡æ¥å£
å†™ä¸€ä¸ªå®ç°ç±»ï¼Œå®ç°æœåŠ¡æ¥å£ä¸­çš„æ–¹æ³•
å°†è¿™ä¸ªå®ç°ç±»æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒ
public interface TicketService { String getTicket(); } import org.apache.dubbo.config.annotation.DubboService; //åŠ ä¸Šè¿™ä¸ªæ³¨è§£åï¼Œåœ¨å¯åŠ¨æ—¶ä¼šè¢«æ‰«æåˆ°æ³¨å†Œä¸­å¿ƒ @DubboService public class TicketServiceImpl implements TicketService{ @Override public String getTicket() { return "æ ¡å¤–å®ä¹ ç¥¨"; } } æ¶ˆè´¹è€…çš„æµç¨‹
è·å¾—æ³¨å†Œä¸­å¿ƒé‡Œçš„æœåŠ¡ @DubboReferenceæ³¨è§£
pomåæ ‡ï¼Œæˆ–è€…å’Œæä¾›è€…è·¯å¾„ç›¸åŒçš„æœåŠ¡å è°ƒç”¨è¿œç«¯æœåŠ¡çš„æ–¹æ³•
public class UserService { //æƒ³è¦è·å¾—ç”Ÿäº§è€…æä¾›çš„ç¥¨ //@Reference pomåæ ‡ï¼Œæˆ–è€…æä¾›è€…ç›¸åŒçš„æœåŠ¡å @DubboReference TicketService ticketService; //ä»æ³¨å†Œä¸­å¿ƒè°ƒç”¨æœåŠ¡ public void buyTicket(){ String ticket = ticketService.getTicket(); System.out.println("åœ¨æ³¨å†Œä¸­å¿ƒæ‹¿åˆ°äº†"+ticket); } } springcloud Eureka &lt;!--spring-cloud-starter-eureka-server --> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-eureka-server&lt;/artifactId> &lt;version>1.4.7.RELEASE&lt;/version> &lt;/dependency> &lt;!-- spring-cloud-starter-eureka --> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-eureka&lt;/artifactId> &lt;version>1.4.7.RELEASE&lt;/version> &lt;/dependency> CAPåŸåˆ™ C (Consistency) å¼ºä¸€è‡´æ€§ A (Avaliablity) å¯ç”¨æ€§ P (Partition tolerance) åˆ†åŒºå®¹é”™æ€§ CAPç†è®ºçš„æ ¸å¿ƒ ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒCã€Aã€Pæœ€å¤šåªèƒ½åŒæ—¶æ»¡è¶³ä¸¤ä¸ª æ ¹æ®CAPï¼Œå°†NoSQLæ•°æ®åº“åˆ†æˆäº†æ»¡è¶³CAåŸåˆ™ã€æ»¡è¶³CPåŸåˆ™ã€æ»¡è¶³APåŸåˆ™ä¸‰å¤§ç±»: CA: å•ç‚¹é›†ç¾¤ï¼Œæ»¡è¶³ä¸€è‡´æ€§ï¼Œå¯ç”¨æ€§çš„ç³»ç»Ÿï¼Œé€šå¸¸å¯æ‰©å±•æ€§è¾ƒå·® CP: æ»¡è¶³ä¸€è‡´æ€§ï¼Œåˆ†åŒºå®¹é”™æ€§çš„ç³»ç»Ÿ,é€šå¸¸æ€§èƒ½ä¸æ˜¯ç‰¹åˆ«é«˜ AP: æ»¡è¶³å¯ç”¨æ€§ï¼Œåˆ†åŒºå®¹é”™æ€§çš„ç³»ç»Ÿï¼Œå¯¹ä¸€è‡´æ€§è¦æ±‚è¾ƒä½ zookeeperå’Œeurekaçš„åŒºåˆ«ï¼Ÿ ä½œä¸ºæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œeurakeæ¯”zookeeperæ›´åˆé€‚ã€‚ zookeeperä¿è¯çš„æ˜¯CPï¼Œeurekaä¿è¯çš„æ˜¯AP(åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œåˆ†åŒºå®¹é”™æ€§æ˜¯ä¸€å®šè¦ä¿è¯çš„) ZooKeeper é€‰ä¸¾leaderæ—¶é—´é•¿ï¼Œæ­¤æœŸé—´é›†ç¾¤ä¸å¯ç”¨ Eureka å„èŠ‚ç‚¹å¹³ç­‰
è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼ˆå¿ƒè·³ï¼‰ï¼š15åˆ†é’Ÿå†…è¶…è¿‡85%çš„èŠ‚ç‚¹éƒ½æ²¡æœ‰æ­£å¸¸çš„å¿ƒè·³ï¼Œè®¤ä¸ºå®¢æˆ·ç«¯å’Œæ³¨å†Œä¸­å¿ƒå‡ºç°ç½‘ç»œæ•…éšœï¼Œä¼šå‡ºç°ä»¥ä¸‹å‡ ç§æƒ…å†µ
Eurekaä¸å†ä»æ³¨å†Œåˆ—è¡¨ä¸­ç§»é™¤å› ä¸ºé•¿æ—¶é—´æ²¡æ”¶åˆ°å¿ƒè·³è€Œåº”è¯¥è¿‡æœŸçš„æœåŠ¡ Eurekaä»ç„¶èƒ½å¤Ÿæ¥å—æ–°æœåŠ¡çš„æ³¨å†Œå’ŒæŸ¥è¯¢è¯·æ±‚ï¼Œä½†æ˜¯ä¸ä¼šåŒæ­¥åˆ°å…¶ä»–èŠ‚ç‚¹ï¼ˆä¿è¯å½“å‰èŠ‚ç‚¹å¯ç”¨ï¼‰ å½“ç½‘ç»œç¨³å®šæ—¶ï¼Œå½“å‰å®ä¾‹æ–°çš„æ³¨å†Œä¿¡æ¯ä¼šè¢«åŒæ­¥åˆ°å…¶ä»–çš„èŠ‚ç‚¹ä¸Š æ€»ç»“ï¼šEurekaå¯ä»¥å¾ˆå¥½çš„åº”å¯¹ç½‘ç»œæ•…éšœå¯¼è‡´éƒ¨åˆ†èŠ‚ç‚¹å¤±å»è”ç³»çš„æƒ…å†µï¼Œä¸ä¼šåƒzookeeperé‚£æ ·ä½¿æ•´ä¸ªæ³¨å†ŒæœåŠ¡ç˜«ç—ª
httpå’Œrpcçš„åŒºåˆ«
Ribbon å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„å·¥å…· LB:è´Ÿè½½å‡è¡¡(load balance)â€”â€”å°†ç”¨æˆ·çš„è¯·æ±‚å¹³æ‘Šçš„åˆ†é…åˆ°å¤šä¸ªæœåŠ¡ä¸Šï¼Œä»è€Œè¾¾åˆ°ç³»ç»Ÿçš„HA(é«˜å¯ç”¨)ã€‚
é›†ä¸­å¼LB: åœ¨æœåŠ¡æ¶ˆè´¹æ–¹å’Œæä¾›æ–¹ä¹‹é—´è®¾ç½®ç‹¬ç«‹çš„LBè®¾æ–½ï¼Œå¦‚Nginx: å‘ä»£ç†æœåŠ¡å™¨
è¿›ç¨‹å¼LB: å°†è´Ÿè½½å‡è¡¡çš„é€»è¾‘é›†æˆåˆ°æ¶ˆè´¹æ–¹ï¼Œæ¶ˆè´¹æ–¹ä»æ³¨å†Œä¸­å¿ƒè·å¾—å¯ç”¨çš„åœ°å€ï¼Œåœ¨è‡ªå·±é€‰æ‹©åˆé€‚çš„æœåŠ¡å™¨
ä½¿ç”¨ å¯¼å…¥ä¾èµ–
&lt;!--Ribbon--> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-ribbon&lt;/artifactId> &lt;version>1.4.7.RELEASE&lt;/version> &lt;/dependency> 1.4.7çš„Eurekaä¸­æœ‰loadBalancerå°±ä¸éœ€è¦å¯¼åŒ… é€šè¿‡æœåŠ¡åå»æ³¨å†Œä¸­å¿ƒé‡Œè·å–å¯ç”¨çš„æœåŠ¡å™¨
Feign æ¥å£å’Œæ³¨è§£ ï¼š
//åˆ›å»ºä¸€ä¸ªserviceçš„æ¥å£ï¼Œé€šè¿‡æ³¨è§£çš„valueå€¼æ¥å‘ç°æœåŠ¡ @FeignClient(value = "SPRINGCLOUD-PROVIDER-DEPT") public interface DeptClientService { @RequestMapping("/dept/add") public boolean add(Dept dept); @RequestMapping("/dept/get/{id}") public Dept get(@PathVariable("id") int id); @RequestMapping("/dept/list") public List&lt;Dept> queryAll(); } //åœ¨controllerå±‚ï¼Œä»å®¹å™¨ä¸­è·å¾—è¿™ä¸ªfeignçš„æ¥å£ï¼Œè°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³• @Autowired private DeptClientService service=null; @RequestMapping("/consumer/dept/add") public boolean add(Dept dept) { return this.service.add(dept); } //æœ€ååœ¨å¯åŠ¨ç±»ä¸Šé…ç½®feign @EnableFeignClients(basePackages = {"com.infinite.springcloud"}) public class DeptConsumer_feign { public static void main(String[] args) { SpringApplication.run(DeptConsumer_feign.class,args); } } Hystrix ç†”æ–­ï¼šæœåŠ¡ç«¯ æŸä¸ªæœåŠ¡è¶…æ—¶æˆ–è€…å¼‚å¸¸ï¼Œå¼•èµ·ç†”æ–­ ï¼ˆç¼ºçœæ˜¯5ç§’å†…20æ¬¡è°ƒç”¨å¤±è´¥å°±ä¼šå¯åŠ¨ç†”æ–­æœºåˆ¶ï¼‰ @HystrixCommond(value="æ–¹æ³•å")
é™çº§ï¼šå®¢æˆ·ç«¯ ä»æ•´ä½“ç½‘ç«™è¯·æ±‚è´Ÿè½½è€ƒè™‘ã€‚å½“æŸä¸ªæœåŠ¡ç†”æ–­æˆ–è€…å…³é—­åï¼ŒæœåŠ¡å°†ä¸å†è¢«è°ƒç”¨ åœ¨å®¢æˆ·ç«¯å‡†å¤‡ä¸€ä¸ªFallbackFactory,è¿”å›ä¸€ä¸ªç¼ºçœå€¼ã€‚
æ•´ä½“çš„æœåŠ¡æ°´å¹³ä¸‹é™ï¼Œä½†æ˜¯ä¿è¯å¯ç”¨ï¼Œä¸ä¼šç›´æ¥æŒ‚æ‰
ä½¿ç”¨ æœåŠ¡ç†”æ–­
&lt;!--å¯¼å…¥ä¾èµ– spring-cloud-starter-hystrix 1.4.7 å·²è¿‡æœŸ--> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-netflix-hystrix&lt;/artifactId> &lt;version>2.0.0.RELEASE&lt;/version> &lt;/dependency> //é…ç½®è§£å†³æ–¹æ³• @GetMapping("/dept/get/{id}") @HystrixCommand(fallbackMethod = "hystrixGet") public Dept get(@PathVariable int id){ Dept dept = deptService.queryById(id); if(dept==null){ throw new RuntimeException("id=>"+id+",è¯¥ç”¨æˆ·ä¸å­˜åœ¨"); } return dept; } //å¤‡é€‰æ–¹æ¡ˆ public Dept hystrixGet(@PathVariable int id){ return new Dept() .setDeptNo(id) .setDeptName("id=>"+id+",è¯¥ç”¨æˆ·ä¸å­˜åœ¨,null--@Hystrix") .setDbName("no this database in MySQL"); } //åœ¨å¯åŠ¨ç±»ä¸Šå¼€å¯è¯¥åŠŸèƒ½ @EnableHystrix public class DeptProviderHystrix_8001 { public static void main(String[] args) { SpringApplication.run(DeptProviderHystrix_8001.class,args); } } æœåŠ¡é™çº§
//å®¢æˆ·ç«¯ DashBoardæµç›‘æ§ &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-netflix-hystrix-dashboard&lt;/artifactId> &lt;version>2.2.0.RELEASE&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-netflix-hystrix&lt;/artifactId> &lt;version>2.0.0.RELEASE&lt;/version> &lt;/dependency> //é…ç½®å¯åŠ¨ç±» @SpringBootApplication @EnableHystrixDashboard public class DeptConsumer_Dashboard_9001 { public static void main(String[] args) { SpringApplication.run(DeptConsumer_Dashboard_9001.class,args); } } //é…ç½®ç›‘æ§urlï¼Œåœ¨æœåŠ¡æä¾›è€… @Bean public ServletRegistrationBean hystrixMetricsStreamServlet() { ServletRegistrationBean registrationBean = new ServletRegistrationBean(new HystrixMetricsStreamServlet()); registrationBean.addUrlMappings("/actuator/hystrix.stream"); return registrationBean; }</content></entry><entry><title>Springå¤ä¹ ç¬”è®°</title><url>https://infinitejk.github.io/post/spring%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/</url><categories/><tags><tag>javaå­¦ä¹ ç¬”è®°</tag></tags><content type="html"> Springå¤ä¹ ç¬”è®° æ ¸å¿ƒéƒ¨åˆ† IOC æ§åˆ¶åè½¬ å°†ç»„ä»¶çš„æ§åˆ¶æƒç»Ÿä¸€äº¤ç»™springå®¹å™¨æ¥ç®¡ç†,æƒ³ç”¨çš„æ—¶å€™ç›´æ¥åˆ°å®¹å™¨ä¸­å»å–å‡ºè¯¥ç»„ä»¶
å®¹å™¨çš„åº•å±‚ï¼šå®é™…å°±æ˜¯ä¸€ä¸ªmapï¼Œå­˜æ”¾çš„æ˜¯key-valueå‹çš„æ•°æ®
å®ä¾‹åœ¨å®¹å™¨ä¸­ä»¥å•ä¾‹çš„å½¢å¼å­˜åœ¨
DI ä¾èµ–æ³¨å…¥ ä»å®¹å™¨ä¸­å–å‡ºç»„ä»¶çš„è¿‡ç¨‹
é€šè¿‡xmlé…ç½®æ–‡ä»¶æ¥æ³¨å†Œç»„ä»¶å’Œå–å‡ºç»„ä»¶
&lt;!-- idå±æ€§ï¼šç»„ä»¶çš„idâ†’ç»„ä»¶çš„name classå±æ€§:ç±»çš„å…¨ç±»å --> &lt;bean id="userService" class="com.infinite.service.UserServiceImpl"/> public void mytest1() { //åŠ è½½Classpathè·¯å¾„ä¸‹çš„xmlæ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œåˆå§‹åŒ–ä¸€ä¸ªApplicationContextçš„å®ä¾‹ ğŸ‘‰ å®¹å™¨ ApplicationContext applicationContext = new ClassPathXmlApplicationContext("application.xml"); //è¿˜æœ‰åˆ«çš„è·å¾—å®¹å™¨çš„æ–¹å¼ //ä»å®¹å™¨ä¸­å¯ä»¥å–å‡ºæˆ‘ä»¬æ³¨å†Œçš„ç»„ä»¶ ğŸ‘‰ getBean //getBean(String) ğŸ‘‰ æŒ‰ç…§ç»„ä»¶idå–å‡ºç»„ä»¶ UserService userService1 = (UserService) applicationContext.getBean("userService"); //getBean(Class) ğŸ‘‰ æŒ‰ç…§ç»„ä»¶ç±»å‹å–å‡ºç»„ä»¶ï¼Œå‰ææ˜¯è¯¥ç±»å‹ï¼ˆç±»æˆ–æ¥å£ï¼‰çš„ç»„ä»¶åœ¨å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ª UserService userService2 = applicationContext.getBean(UserService.class); //getBean(String,Class) ğŸ‘‰ æŒ‰ç…§ç»„ä»¶idå’Œç±»å‹å–å‡º UserService userService3 = applicationContext.getBean("userService", UserService.class); //å–å‡ºæ¥çš„ç»„ä»¶å¯ä»¥æ­£å¸¸è°ƒç”¨å®ç°ç±»ä¸­çš„æ–¹æ³• userService1.sayHello(); userService2.sayHello(); userService3.sayHello(); } ç”Ÿå‘½å‘¨æœŸ</content></entry><entry><title>Javaå¼€å‘ç¯å¢ƒå®‰è£…</title><url>https://infinitejk.github.io/post/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/</url><categories/><tags><tag>guidance</tag></tags><content type="html"> idea 2021.2.3 ultimate jdk-8u281è¦ç™»å½•ä¸€ä¸ªoracleè´¦æˆ· maven-3.6.3 jdké…ç½® ç½‘ç«™ å°±æ˜¯JAVA_HOMEè¿™äº›ã€‚</content></entry><entry><title>å…³äºæˆ‘</title><url>https://infinitejk.github.io/about.html</url><categories/><tags/><content type="html"> ä¸€ä¸ªåœ¨åŠªåŠ›ç”Ÿæ´»çš„æ™®é€šäºº
javaå¼€å‘å·¥ç¨‹å¸ˆ
çˆ±æ‰“ç¯®çƒ
å–œæ¬¢éŸ³ä¹å’Œçœ‹å‰§</content></entry></search>